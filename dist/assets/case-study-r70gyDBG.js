import{s as Eo,j as C,F as T,r as n,C as Ze,a4 as xo,u as mn,a5 as yo,J as At,E as ce,D as He,q as ae,O as jt,Q as wo,I as pn,a6 as Co,W as _o,a7 as So,a8 as Po,a9 as Io,L as ko,H as Mo}from"./index-CIKix-VC.js";import{u as Lo,a as To,b as Ro,v as No,D as $t,c as Oo,d as Fo,G as nt}from"./apiEvents-Bjd8xSx6.js";import"./TextField-DTRPdCi9.js";const Do=Eo("div",{shouldForwardProp:e=>e!=="firstLetter"})(({firstLetter:e,theme:t})=>({h1:{margin:0,...t.typography.h1},h2:{margin:0,...t.typography.h2},h3:{margin:0,...t.typography.h3},h4:{margin:0,...t.typography.h4},h5:{margin:0,...t.typography.h5},h6:{margin:0,...t.typography.h6},p:{margin:0,...t.typography.body1},br:{display:"grid",content:'""',marginTop:"0.75em"},a:{color:t.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}},"& ul, & ol":{margin:0,"& li":{lineHeight:2}},hr:{margin:0,flexShrink:0,borderWidth:0,msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.palette.divider},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"40px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.palette.text.secondary,borderRadius:t.shape.borderRadius*2,backgroundColor:t.palette.background.neutral,[t.breakpoints.up("md")]:{width:"80%"},"& p, & span":{marginBottom:0,fontSize:"inherit",fontFamily:"inherit"},"&:before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.palette.text.disabled}},"& img":{borderRadius:t.spacing(1)},table:{width:"100%",borderCollapse:"collapse",border:`1px solid ${t.palette.divider}`,"th, td":{padding:t.spacing(1),border:`1px solid ${t.palette.divider}`},"tbody tr:nth-of-type(odd)":{backgroundColor:t.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.palette.grey[t.palette.mode==="light"?300:700]},"&:checked":{"&:before":{backgroundColor:t.palette.primary.main},"&:after":{content:'""',top:1,left:5,width:4,height:9,position:"absolute",transform:"rotate(45deg)",msTransform:"rotate(45deg)",WebkitTransform:"rotate(45deg)",border:`solid ${t.palette.common.white}`,borderWidth:"0 2px 2px 0"}}}},...e&&{"& > p:first-of-type":{"&:first-letter":{float:"left",fontSize:80,lineHeight:1,paddingRight:t.spacing(2),fontWeight:t.typography.fontWeightBold}}}})),Ao=Do;function gn({content:e,firstLetter:t=!1,sx:r}){return C.jsx(Ao,{firstLetter:t,dangerouslySetInnerHTML:{__html:e},sx:r})}gn.propTypes={content:T.string,firstLetter:T.bool,sx:T.object};T.bool,T.bool,T.shape({href:T.string,icon:T.node,name:T.string});T.node,T.bool,T.string,T.array,T.array,T.object;const jo=n.forwardRef(({src:e,sx:t,...r},o)=>C.jsx(Ze,{component:"span",className:"svg-color",ref:o,sx:{width:24,height:24,display:"inline-block",bgcolor:"currentColor",mask:`url(${e}) no-repeat center / contain`,WebkitMask:`url(${e}) no-repeat center / contain`,...t},...r}));jo.propTypes={src:T.string,sx:T.object};T.object;T.shape({avatarUrl:T.string,name:T.string,review:T.string,role:T.string});T.array;T.shape({category:T.string,coverUrl:T.string,title:T.string});T.array;const vn="carousel",Xe="controller",$o="navigation",zo="no-scroll",mt="portal",Vo="root",bn="toolbar",zt="captions",Re="fullscreen",Vt="slideshow",Ne="thumbnails",Ht="zoom",we="loading",ct="playing",Le="error",Te="complete",Ho="placeholder",Oe=e=>`active-slide-${e}`,En=Oe(we),xn=Oe(ct),Wo=Oe(Le),yn=Oe(Te),wn="fullsize",pe="flex_center",Zo="no_scroll",Cn="no_scroll_padding",pt="slide_wrapper",ue="prev",de="next",at="swipe",_e="close",_n="onPointerDown",Sn="onPointerMove",Pn="onPointerUp",In="onPointerLeave",kn="onPointerCancel",gt="onKeyDown",Uo="onKeyUp",vt="onWheel",Bo="Escape",Xo="ArrowLeft",Yo="ArrowRight",Go="button",Ue="icon",Mn="contain",Wt="cover",Ln="Unknown action type",Tn="yarl__";function Y(...e){return[...e].filter(Boolean).join(" ")}function I(e){return`${Tn}${e}`}function V(e){return`--${Tn}${e}`}function ge(e,t){return`${e}${t?`_${t}`:""}`}function ve(e){return t=>ge(e,t)}function Ko(e,t){var r;return(r=e==null?void 0:e[t])!==null&&r!==void 0?r:t}function Fe(...e){return()=>{e.forEach(t=>{t()})}}function re(e,t,r){return()=>{const o=n.useContext(r);if(!o)throw new Error(`${e} must be used within a ${t}.Provider`);return o}}function bt(){return typeof window<"u"}function Et(e,t=0){const r=10**t;return Math.round((e+Number.EPSILON)*r)/r}function be(e){return e.type===void 0||e.type==="image"}function xt(e,t){return e.imageFit===Wt||e.imageFit!==Mn&&t===Wt}function Ye(e){return typeof e=="string"?Number.parseInt(e,10):e}function Be(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=Ye(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function qo(e,t){const r=Be(t),o=r.percent!==void 0?e.width/100*r.percent:r.pixel;return{width:Math.max(e.width-2*o,0),height:Math.max(e.height-2*o,0)}}function Qo(){return(bt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function Rn(e,t){return t>0?(e%t+t)%t:0}function yt(e){return e.length>0}function wt(e,t){return e[Rn(t,e.length)]}function ut(e,t){return yt(e)?wt(e,t):void 0}function Nn(e){return be(e)?e.src:void 0}function De(e,t,r){if(!r)return e;const{buttons:o,...i}=e,s=o.findIndex(c=>c===t),l=n.isValidElement(r)?n.cloneElement(r,{key:t},null):r;if(s>=0){const c=[...o];return c.splice(s,1,l),{buttons:c,...i}}return{buttons:[l,...o],...i}}function On(e,t,r=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),r))}const dt={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[_e]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Mn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ee(e,t){return{name:e,component:t}}function U(e,t){return{module:e,children:t}}function Fn(e,t,r){return e.module.name===t?r(e):e.children?[U(e.module,e.children.flatMap(o=>{var i;return(i=Fn(o,t,r))!==null&&i!==void 0?i:[]}))]:[e]}function ye(e,t,r){return e.flatMap(o=>{var i;return(i=Fn(o,t,r))!==null&&i!==void 0?i:[]})}function Jo(e,t=[],r=[]){let o=e;const i=p=>{const m=[...o];for(;m.length>0;){const g=m.pop();if((g==null?void 0:g.module.name)===p)return!0;g!=null&&g.children&&m.push(...g.children)}return!1},s=(p,m)=>{if(p===""){o=[U(m,o)];return}o=ye(o,p,g=>[U(m,[g])])},l=(p,m)=>{o=ye(o,p,g=>[U(g.module,[U(m,g.children)])])},c=(p,m,g)=>{o=ye(o,p,f=>{var S;return[U(f.module,[...g?[U(m)]:[],...(S=f.children)!==null&&S!==void 0?S:[],...g?[]:[U(m)]])]})},a=(p,m,g)=>{o=ye(o,p,f=>[...g?[U(m)]:[],f,...g?[]:[U(m)]])},u=p=>{l(Xe,p)},d=(p,m)=>{o=ye(o,p,g=>[U(m,g.children)])},v=p=>{o=ye(o,p,m=>m.children)},b=p=>{r.push(p)};return t.forEach(p=>{p({contains:i,addParent:s,append:l,addChild:c,addSibling:a,addModule:u,replace:d,remove:v,augment:b})}),{config:o,augmentation:p=>r.reduce((m,g)=>g(m),p)}}const Dn=n.createContext(null),Ee=re("useEvents","EventsContext",Dn);function er({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(o=>delete t[o])},[t]);const r=n.useMemo(()=>{const o=(l,c)=>{var a;(a=t[l])===null||a===void 0||a.splice(0,t[l].length,...t[l].filter(u=>u!==c))};return{publish:(...[l,c])=>{var a;(a=t[l])===null||a===void 0||a.forEach(u=>u(c))},subscribe:(l,c)=>(t[l]||(t[l]=[]),t[l].push(c),()=>o(l,c)),unsubscribe:o}},[t]);return n.createElement(Dn.Provider,{value:r},e)}const An=n.createContext(null),W=re("useLightboxProps","LightboxPropsContext",An);function jn({children:e,...t}){return n.createElement(An.Provider,{value:t},e)}const $n=n.createContext(null),ie=re("useLightboxState","LightboxStateContext",$n),zn=n.createContext(null),tr=re("useLightboxDispatch","LightboxDispatchContext",zn);function nr(e,t){switch(t.type){case"swipe":{const{slides:r}=e,o=(t==null?void 0:t.increment)||0,i=e.globalIndex+o,s=Rn(i,r.length),l=ut(r,s),c=o||t.duration?{increment:o,duration:t.duration,easing:t.easing}:void 0;return{slides:r,currentIndex:s,globalIndex:i,currentSlide:l,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:ut(t.slides,t.index)}:e;default:throw new Error(Ln)}}function or({slides:e,index:t,children:r}){const[o,i]=n.useReducer(nr,{slides:e,currentIndex:t,globalIndex:t,currentSlide:ut(e,t)});n.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...o,state:o,dispatch:i}),[o,i]);return n.createElement(zn.Provider,{value:i},n.createElement($n.Provider,{value:s},r))}const Vn=n.createContext(null),Ae=re("useTimeouts","TimeoutsContext",Vn);function rr({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(o=>window.clearTimeout(o)),t.splice(0,t.length)},[t]);const r=n.useMemo(()=>{const o=l=>{t.splice(0,t.length,...t.filter(c=>c!==l))};return{setTimeout:(l,c)=>{const a=window.setTimeout(()=>{o(a),l()},c);return t.push(a),a},clearTimeout:l=>{l!==void 0&&(o(l),window.clearTimeout(l))}}},[t]);return n.createElement(Vn.Provider,{value:r},e)}const xe=n.forwardRef(function({label:t,className:r,icon:o,renderIcon:i,onClick:s,style:l,...c},a){const{styles:u,labels:d}=W();return n.createElement("button",{ref:a,type:"button","aria-label":Ko(d,t),className:Y(I(Go),r),onClick:s,style:{...l,...u.button},...c},i?i():n.createElement(o,{className:I(Ue),style:u.icon}))});function Hn(e,t){const r=o=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...o},t);return r.displayName=e,r}function q(e,t){return Hn(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function Wn(e,t){return Hn(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const ir=q("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),sr=q("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),lr=q("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),cr=q("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,r)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/r.length*(t+1),transform:`rotate(${360/r.length*t}, 12, 12)`})))),ar=q("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),J=bt()?n.useLayoutEffect:n.useEffect;function Ct(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var r,o;const i=(r=window.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const s=l=>t(l.matches);return(o=i==null?void 0:i.addEventListener)===null||o===void 0||o.call(i,"change",s),()=>{var l;return(l=i==null?void 0:i.removeEventListener)===null||l===void 0?void 0:l.call(i,"change",s)}},[]),e}function ur(e){let t=0,r=0,o=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const l=s[1].split(",").map(Ye);l.length===6?(t=l[4],r=l[5]):l.length===16&&(t=l[12],r=l[13],o=l[14])}return{x:t,y:r,z:o}}function ft(e,t){const r=n.useRef(),o=n.useRef(),i=Ct();return J(()=>{var s,l,c;if(e.current&&r.current!==void 0&&!i){const{keyframes:a,duration:u,easing:d,onfinish:v}=t(r.current,e.current.getBoundingClientRect(),ur(e.current))||{};if(a&&u){(s=o.current)===null||s===void 0||s.cancel(),o.current=void 0;try{o.current=(c=(l=e.current).animate)===null||c===void 0?void 0:c.call(l,a,{duration:u,easing:d})}catch(b){console.error(b)}o.current&&(o.current.onfinish=()=>{o.current=void 0,v==null||v()})}}r.current=void 0}),{prepareAnimation:s=>{r.current=s},isAnimationPlaying:()=>{var s;return((s=o.current)===null||s===void 0?void 0:s.playState)==="running"}}}function _t(){const e=n.useRef(null),t=n.useRef(),[r,o]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const l=()=>{if(s){const c=window.getComputedStyle(s),a=u=>parseFloat(u)||0;o({width:Math.round(s.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(s.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else o(void 0)};l(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(l),t.current.observe(s))},[]),containerRef:e,containerRect:r}}function We(){const e=n.useRef(),{setTimeout:t,clearTimeout:r}=Ae();return n.useCallback((o,i)=>{r(e.current),e.current=t(o,i>0?i:0)},[t,r])}function O(e){const t=n.useRef(e);return J(()=>{t.current=e}),n.useCallback((...r)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...r)},[])}function Zt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Ut(e,t){return n.useMemo(()=>e==null&&t==null?null:r=>{Zt(e,r),Zt(t,r)},[e,t])}function Zn(e,t=!1){const r=n.useRef();J(()=>{t&&r.current&&(r.current=!1,e())},[t,e]);const o=n.useCallback(()=>{r.current=!0},[]),i=n.useCallback(()=>{r.current=!1},[]);return{onFocus:o,onBlur:i}}function Ge(){const[e,t]=n.useState(!1);return J(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Un(){const[e]=n.useState({}),t=n.useCallback((i,s)=>{var l;(l=e[i])===null||l===void 0||l.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),r=n.useMemo(()=>({onPointerDown:i=>t(_n,i),onPointerMove:i=>t(Sn,i),onPointerUp:i=>t(Pn,i),onPointerLeave:i=>t(In,i),onPointerCancel:i=>t(kn,i),onKeyDown:i=>t(gt,i),onKeyUp:i=>t(Uo,i),onWheel:i=>t(vt,i)}),[t]),o=n.useCallback((i,s)=>(e[i]||(e[i]=[]),e[i].unshift(s),()=>{const l=e[i];l&&l.splice(0,l.length,...l.filter(c=>c!==s))}),[e]);return{registerSensors:r,subscribeSensors:o}}function Bt(e,t){const r=n.useRef(0),o=We(),i=O((...s)=>{r.current=Date.now(),e(s)});return n.useCallback((...s)=>{o(()=>{i(s)},t-(Date.now()-r.current))},[t,i,o])}const ot=ve("slide"),rt=ve("slide_image");function Se({slide:e,offset:t,render:r,rect:o,imageFit:i,imageProps:s,onClick:l,onLoad:c,style:a}){var u,d,v,b,p,m,g;const[f,S]=n.useState(we),{publish:h}=Ee(),{setTimeout:M}=Ae(),L=n.useRef(null);n.useEffect(()=>{t===0&&h(Oe(f))},[t,f,h]);const P=O(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(S(Te),M(()=>{c==null||c(N)},0))})}),k=n.useCallback(N=>{L.current=N,N!=null&&N.complete&&P(N)},[P]),R=n.useCallback(N=>{P(N.currentTarget)},[P]),$=n.useCallback(()=>{S(Le)},[]),E=xt(e,i),_=(N,X)=>Number.isFinite(N)?N:X,F=_(Math.max(...((d=(u=e.srcSet)===null||u===void 0?void 0:u.map(N=>N.width))!==null&&d!==void 0?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((v=L.current)===null||v===void 0?void 0:v.naturalWidth)||0),j=_(Math.max(...((p=(b=e.srcSet)===null||b===void 0?void 0:b.map(N=>N.height))!==null&&p!==void 0?p:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((m=L.current)===null||m===void 0?void 0:m.naturalHeight)||0),x=F&&j?{maxWidth:`min(${F}px, 100%)`,maxHeight:`min(${j}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},z=(g=e.srcSet)===null||g===void 0?void 0:g.sort((N,X)=>N.width-X.width).map(N=>`${N.src} ${N.width}w`).join(", "),w=()=>o&&!E&&e.width&&e.height?o.height/e.height*e.width:Number.MAX_VALUE,D=z&&o&&bt()?`${Math.round(Math.min(w(),o.width))}px`:void 0,{style:A,className:Z,...ne}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:k,onLoad:R,onError:$,onClick:l,draggable:!1,className:Y(I(rt()),E&&I(rt("cover")),f!==Te&&I(rt("loading")),Z),style:{...x,...a,...A},...ne,alt:e.alt,sizes:D,srcSet:z,src:e.src}),f!==Te&&n.createElement("div",{className:I(ot(Ho))},f===we&&(r!=null&&r.iconLoading?r.iconLoading():n.createElement(cr,{className:Y(I(Ue),I(ot(we)))})),f===Le&&(r!=null&&r.iconError?r.iconError():n.createElement(ar,{className:Y(I(Ue),I(ot(Le)))}))))}var G;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(G||(G={}));function Bn(e,t,r,o,i){n.useEffect(()=>i?()=>{}:Fe(e(_n,t),e(Sn,r),e(Pn,o),e(In,o),e(kn,o)),[e,t,r,o,i])}var oe;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(oe||(oe={}));const it=30;function dr(e,t,r,o,i,s,l,c,a,u,d,v,b,p){const m=n.useRef(0),g=n.useRef([]),f=n.useRef(),S=n.useRef(0),h=n.useRef(oe.NONE),M=n.useCallback(E=>{f.current===E.pointerId&&(f.current=void 0,h.current=oe.NONE);const _=g.current;_.splice(0,_.length,..._.filter(F=>F.pointerId!==E.pointerId))},[]),L=n.useCallback(E=>{M(E),E.persist(),g.current.push(E)},[M]),P=O(E=>{L(E)}),k=(E,_)=>u&&E>_||a&&E<-_,R=O(E=>{if(g.current.find(_=>_.pointerId===E.pointerId)&&f.current===E.pointerId){const _=Date.now()-S.current,F=m.current;h.current===oe.SWIPE?Math.abs(F)>.3*r||Math.abs(F)>5&&_<o?l(F,_):c(F):h.current===oe.PULL&&(k(F,2*it)?b(F,_):p(F)),m.current=0,h.current=oe.NONE}M(E)}),$=O(E=>{const _=g.current.find(F=>F.pointerId===E.pointerId);if(_){const F=f.current===E.pointerId;if(E.buttons===0){F&&m.current!==0?R(E):M(_);return}const j=E.clientX-_.clientX,x=E.clientY-_.clientY;if(f.current===void 0){const z=w=>{L(E),f.current=E.pointerId,S.current=Date.now(),h.current=w};Math.abs(j)>Math.abs(x)&&Math.abs(j)>it&&t(j)?(z(oe.SWIPE),i()):Math.abs(x)>Math.abs(j)&&k(x,it)&&(z(oe.PULL),d())}else F&&(h.current===oe.SWIPE?(m.current=j,s(j)):h.current===oe.PULL&&(m.current=x,v(x)))}});Bn(e,P,$,R)}function fr({preventDefaultWheelX:e,preventDefaultWheelY:t}){const r=n.useRef(null),o=O(i=>{const s=Math.abs(i.deltaX)>Math.abs(i.deltaY);(s&&e||!s&&t||i.ctrlKey)&&i.preventDefault()});return n.useCallback(i=>{var s;i?i.addEventListener("wheel",o,{passive:!1}):(s=r.current)===null||s===void 0||s.removeEventListener("wheel",o),r.current=i},[o])}function hr(e,t,r,o,i,s,l,c,a){const u=n.useRef(0),d=n.useRef(0),v=n.useRef(),b=n.useRef(),p=n.useRef(0),m=n.useRef(0),{setTimeout:g,clearTimeout:f}=Ae(),S=n.useCallback(()=>{v.current&&(f(v.current),v.current=void 0)},[f]),h=n.useCallback(()=>{b.current&&(f(b.current),b.current=void 0)},[f]),M=O(()=>{e!==G.SWIPE&&(u.current=0,m.current=0,S(),h())});n.useEffect(M,[e,M]);const L=O(k=>{b.current=void 0,u.current===k&&a(u.current)}),P=O(k=>{if(!k.ctrlKey&&!(Math.abs(k.deltaY)>Math.abs(k.deltaX)))if(e===G.NONE){if(Math.abs(k.deltaX)<=1.2*Math.abs(p.current)){p.current=k.deltaX;return}if(!r(-k.deltaX))return;if(d.current+=k.deltaX,S(),Math.abs(d.current)>30)d.current=0,p.current=0,m.current=Date.now(),s();else{const R=d.current;v.current=g(()=>{v.current=void 0,R===d.current&&(d.current=0)},i)}}else if(e===G.SWIPE){let R=u.current-k.deltaX;if(R=Math.min(Math.abs(R),o)*Math.sign(R),u.current=R,l(R),h(),Math.abs(R)>.2*o){p.current=k.deltaX,c(R,Date.now()-m.current);return}b.current=g(()=>L(R),2*i)}else p.current=k.deltaX});n.useEffect(()=>t(vt,P),[t,P])}const Xt=ve("container"),Xn=n.createContext(null),te=re("useController","ControllerContext",Xn);function mr({children:e,...t}){var r;const{carousel:o,animation:i,controller:s,on:l,styles:c,render:a}=t,{closeOnPullUp:u,closeOnPullDown:d,preventDefaultWheelX:v,preventDefaultWheelY:b}=s,[p,m]=n.useState(),g=ie(),f=tr(),[S,h]=n.useState(G.NONE),M=n.useRef(0),L=n.useRef(0),P=n.useRef(1),{registerSensors:k,subscribeSensors:R}=Un(),{subscribe:$,publish:E}=Ee(),_=We(),F=We(),j=We(),{containerRef:x,setContainerRef:z,containerRect:w}=_t(),D=Ut(fr({preventDefaultWheelX:v,preventDefaultWheelY:b}),z),A=n.useRef(null),Z=Ut(A,void 0),ne=Ge(),N=y=>(ne?-1:1)*(typeof y=="number"?y:1),X=O(()=>{var y;return(y=x.current)===null||y===void 0?void 0:y.focus()}),Mt=O(()=>t),Lt=O(()=>g),je=n.useCallback(y=>E(ue,y),[E]),$e=n.useCallback(y=>E(de,y),[E]),Pe=n.useCallback(()=>E(_e),[E]),qe=y=>!(o.finite&&(N(y)>0&&g.currentIndex===0||N(y)<0&&g.currentIndex===g.slides.length-1)),Tt=y=>{var H;M.current=y,(H=x.current)===null||H===void 0||H.style.setProperty(V("swipe_offset"),`${Math.round(y)}px`)},Qe=y=>{var H,K;L.current=y,P.current=(()=>{const ke=d&&y>0?y:u&&y<0?-y:0;return Math.min(Math.max(Et(1-ke/60*(1-.5),2),.5),1)})(),(H=x.current)===null||H===void 0||H.style.setProperty(V("pull_offset"),`${Math.round(y)}px`),(K=x.current)===null||K===void 0||K.style.setProperty(V("pull_opacity"),`${P.current}`)},{prepareAnimation:mo}=ft(A,(y,H,K)=>{if(A.current&&w)return{keyframes:[{transform:`translate(0, ${y.rect.y-H.y+K.y}px)`,opacity:y.opacity},{transform:"translate(0, 0)",opacity:1}],duration:y.duration,easing:i.easing.fade}}),Rt=(y,H)=>{if(u||d){Qe(y);let K=0;A.current&&(K=i.fade*(H?2:1),mo({rect:A.current.getBoundingClientRect(),opacity:P.current,duration:K})),j(()=>{Qe(0),h(G.NONE)},K),h(G.ANIMATION),H||Pe()}},{prepareAnimation:po,isAnimationPlaying:go}=ft(A,(y,H,K)=>{var se;if(A.current&&w&&(!((se=g.animation)===null||se===void 0)&&se.duration)){const Q=Be(o.spacing),ke=(Q.percent?Q.percent*w.width/100:Q.pixel)||0;return{keyframes:[{transform:`translate(${N(g.globalIndex-y.index)*(w.width+ke)+y.rect.x-H.x+K.x}px, 0)`},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),Ie=O(y=>{var H,K;const se=y.offset||0,Q=se?i.swipe:(H=i.navigation)!==null&&H!==void 0?H:i.swipe,ke=!se&&!go()?i.easing.navigation:i.easing.swipe;let{direction:ze}=y;const Ve=(K=y.count)!==null&&K!==void 0?K:1;let Je=G.ANIMATION,le=Q*Ve;if(!ze){const Me=w==null?void 0:w.width,Dt=y.duration||0,tt=Me?Q/Me*Math.abs(se):Q;Ve!==0?(Dt<tt?le=le/tt*Math.max(Dt,tt/5):Me&&(le=Q/Me*(Me-Math.abs(se))),ze=N(se)>0?ue:de):le=Q/2}let et=0;ze===ue?qe(N(1))?et=-Ve:(Je=G.NONE,le=Q):ze===de&&(qe(N(-1))?et=Ve:(Je=G.NONE,le=Q)),le=Math.round(le),F(()=>{Tt(0),h(G.NONE)},le),A.current&&po({rect:A.current.getBoundingClientRect(),index:g.globalIndex}),h(Je),E(at,{type:"swipe",increment:et,duration:le,easing:ke})});n.useEffect(()=>{var y,H;!((y=g.animation)===null||y===void 0)&&y.increment&&(!((H=g.animation)===null||H===void 0)&&H.duration)&&_(()=>f({type:"swipe",increment:0}),g.animation.duration)},[g.animation,f,_]);const Nt=[R,qe,(w==null?void 0:w.width)||0,i.swipe,()=>h(G.SWIPE),y=>Tt(y),(y,H)=>Ie({offset:y,duration:H,count:1}),y=>Ie({offset:y,count:0})],vo=[()=>{d&&h(G.PULL)},y=>Qe(y),y=>Rt(y),y=>Rt(y,!0)];dr(...Nt,u,d,...vo),hr(S,...Nt);const Ot=O(()=>{s.focus&&document.querySelector(`.${I(mt)} .${I(Xt())}`)&&X()});n.useEffect(Ot,[Ot]);const Ft=O(()=>{var y;(y=l.view)===null||y===void 0||y.call(l,{index:g.currentIndex})});n.useEffect(Ft,[g.globalIndex,Ft]),n.useEffect(()=>Fe($(ue,y=>Ie({direction:ue,...y})),$(de,y=>Ie({direction:de,...y})),$(at,y=>f(y))),[$,Ie,f]);const bo=n.useMemo(()=>({prev:je,next:$e,close:Pe,focus:X,slideRect:w?qo(w,o.padding):{width:0,height:0},containerRect:w||{width:0,height:0},subscribeSensors:R,containerRef:x,setCarouselRef:Z,toolbarWidth:p,setToolbarWidth:m}),[je,$e,Pe,X,R,w,x,Z,p,m,o.padding]);return n.useImperativeHandle(s.ref,()=>({prev:je,next:$e,close:Pe,focus:X,getLightboxProps:Mt,getLightboxState:Lt}),[je,$e,Pe,X,Mt,Lt]),n.createElement("div",{ref:D,className:Y(I(Xt()),I(pe)),style:{...S===G.SWIPE?{[V("swipe_offset")]:`${Math.round(M.current)}px`}:null,...S===G.PULL?{[V("pull_offset")]:`${Math.round(L.current)}px`,[V("pull_opacity")]:`${P.current}`}:null,...s.touchAction!=="none"?{[V("controller_touch_action")]:s.touchAction}:null,...c.container},...s.aria?{role:"presentation","aria-live":"polite"}:null,tabIndex:-1,...k},w&&n.createElement(Xn.Provider,{value:bo},e,(r=a.controls)===null||r===void 0?void 0:r.call(a)))}const pr=ee(Xe,mr);function fe(e){return ge(vn,e)}function Yt(e){return ge("slide",e)}function gr({slide:e,offset:t}){const r=n.useRef(null),{currentIndex:o}=ie(),{slideRect:i,close:s}=te(),{render:l,carousel:{imageFit:c,imageProps:a},on:{click:u},controller:{closeOnBackdropClick:d},styles:{slide:v}}=W(),b=()=>{var m,g,f,S;let h=(m=l.slide)===null||m===void 0?void 0:m.call(l,{slide:e,offset:t,rect:i});return!h&&be(e)&&(h=n.createElement(Se,{slide:e,offset:t,render:l,rect:i,imageFit:c,imageProps:a,onClick:t===0?()=>u==null?void 0:u({index:o}):void 0})),h?n.createElement(n.Fragment,null,(g=l.slideHeader)===null||g===void 0?void 0:g.call(l,{slide:e}),((f=l.slideContainer)!==null&&f!==void 0?f:({children:M})=>M)({slide:e,children:h}),(S=l.slideFooter)===null||S===void 0?void 0:S.call(l,{slide:e})):null},p=m=>{const g=r.current,f=m.target instanceof HTMLElement?m.target:void 0;d&&f&&g&&(f===g||Array.from(g.children).find(S=>S===f)&&f.classList.contains(I(pt)))&&s()};return n.createElement("div",{ref:r,className:Y(I(Yt()),t===0&&I(Yt("current")),I(pe)),onClick:p,style:v},b())}function vr(){const e=W().styles.slide;return n.createElement("div",{className:I("slide"),style:e})}function br({carousel:e}){const{slides:t,currentIndex:r,globalIndex:o}=ie(),{setCarouselRef:i}=te(),s=Be(e.spacing),l=Be(e.padding),c=On(e,t,1),a=[];if(yt(t))for(let u=r-c;u<=r+c;u+=1){const d=wt(t,u),v=o-r+u,b=e.finite&&(u<0||u>t.length-1);a.push(b?{key:v}:{key:[`${v}`,Nn(d)].filter(Boolean).join("|"),offset:u-r,slide:d})}return n.createElement("div",{ref:i,className:Y(I(fe()),a.length>0&&I(fe("with_slides"))),style:{[`${V(fe("slides_count"))}`]:a.length,[`${V(fe("spacing_px"))}`]:s.pixel||0,[`${V(fe("spacing_percent"))}`]:s.percent||0,[`${V(fe("padding_px"))}`]:l.pixel||0,[`${V(fe("padding_percent"))}`]:l.percent||0}},a.map(({key:u,slide:d,offset:v})=>d?n.createElement(gr,{key:u,slide:d,offset:v}):n.createElement(vr,{key:u})))}const Er=ee(vn,br);function Yn(){const{carousel:e}=W(),{slides:t,currentIndex:r}=ie(),o=t.length===0||e.finite&&r===0,i=t.length===0||e.finite&&r===t.length-1;return{prevDisabled:o,nextDisabled:i}}function Gn(e){var t;const r=Ge(),{publish:o}=Ee(),{animation:i}=W(),{prevDisabled:s,nextDisabled:l}=Yn(),c=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,a=Bt(()=>o(ue),c),u=Bt(()=>o(de),c),d=O(v=>{switch(v.key){case Bo:o(_e);break;case Xo:(r?l:s)||(r?u:a)();break;case Yo:(r?s:l)||(r?a:u)();break}});n.useEffect(()=>e(gt,d),[e,d])}function Gt({label:e,icon:t,renderIcon:r,action:o,onClick:i,disabled:s,style:l}){return n.createElement(xe,{label:e,icon:t,renderIcon:r,className:I(`navigation_${o}`),disabled:s,onClick:i,style:l,...Zn(te().focus,s)})}function xr({render:{buttonPrev:e,buttonNext:t,iconPrev:r,iconNext:o},styles:i}){const{prev:s,next:l,subscribeSensors:c}=te(),{prevDisabled:a,nextDisabled:u}=Yn();return Gn(c),n.createElement(n.Fragment,null,e?e():n.createElement(Gt,{label:"Previous",action:ue,icon:sr,renderIcon:r,style:i.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement(Gt,{label:"Next",action:de,icon:lr,renderIcon:o,style:i.navigationNext,disabled:u,onClick:l}))}const yr=ee($o,xr),Kt=I(Zo),wr=I(Cn);function Cr(e){return"style"in e}function qt(e,t,r){const o=window.getComputedStyle(e),i=r?"padding-left":"padding-right",s=r?o.paddingLeft:o.paddingRight,l=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(Ye(s)||0)+t}px`),()=>{l?e.style.setProperty(i,l):e.style.removeProperty(i)}}function _r({noScroll:{disabled:e},children:t}){const r=Ge();return J(()=>{if(e)return()=>{};const o=[],{body:i,documentElement:s}=document,l=Math.round(window.innerWidth-s.clientWidth);if(l>0){o.push(qt(i,l,r));const c=i.getElementsByTagName("*");for(let a=0;a<c.length;a+=1){const u=c[a];Cr(u)&&window.getComputedStyle(u).getPropertyValue("position")==="fixed"&&!u.classList.contains(wr)&&o.push(qt(u,l,r))}}return i.classList.add(Kt),()=>{i.classList.remove(Kt),o.forEach(c=>c())}},[r,e]),n.createElement(n.Fragment,null,t)}const Sr=ee(zo,_r);function Qt(e){return ge(mt,e)}function Jt(e,t,r){const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o?e.setAttribute(t,o):e.removeAttribute(t)}}function Pr({children:e,animation:t,styles:r,className:o,on:i,portal:s,close:l}){const[c,a]=n.useState(!1),[u,d]=n.useState(!1),v=n.useRef([]),b=n.useRef(null),{setTimeout:p}=Ae(),{subscribe:m}=Ee(),f=Ct()?0:t.fade;n.useEffect(()=>(a(!0),()=>{a(!1),d(!1)}),[]);const S=O(()=>{v.current.forEach(P=>P()),v.current=[]}),h=O(()=>{var P;d(!1),S(),(P=i.exiting)===null||P===void 0||P.call(i),p(()=>{var k;(k=i.exited)===null||k===void 0||k.call(i),l()},f)});n.useEffect(()=>m(_e,h),[m,h]);const M=O(P=>{var k,R,$;P.scrollTop,d(!0),(k=i.entering)===null||k===void 0||k.call(i);const E=($=(R=P.parentNode)===null||R===void 0?void 0:R.children)!==null&&$!==void 0?$:[];for(let _=0;_<E.length;_+=1){const F=E[_];["TEMPLATE","SCRIPT","STYLE"].indexOf(F.tagName)===-1&&F!==P&&(v.current.push(Jt(F,"inert","true")),v.current.push(Jt(F,"aria-hidden","true")))}v.current.push(()=>{var _,F;(F=(_=b.current)===null||_===void 0?void 0:_.focus)===null||F===void 0||F.call(_)}),p(()=>{var _;(_=i.entered)===null||_===void 0||_.call(i)},f)}),L=n.useCallback(P=>{P?M(P):S()},[M,S]);return c?xo.createPortal(n.createElement("div",{ref:L,className:Y(o,I("root"),I(Qt()),I(Cn),u&&I(Qt("open"))),role:"presentation","aria-live":"polite",style:{...t.fade!==dt.animation.fade?{[V("fade_animation_duration")]:`${f}ms`}:null,...t.easing.fade!==dt.animation.easing.fade?{[V("fade_animation_timing_function")]:t.easing.fade}:null,...r.root},onFocus:P=>{b.current||(b.current=P.relatedTarget)}},e),s.root||document.body):null}const Ir=ee(mt,Pr);function kr({children:e}){return n.createElement(n.Fragment,null,e)}const Mr=ee(Vo,kr);function Lr(e){return ge(bn,e)}function Tr({toolbar:{buttons:e},render:{buttonClose:t,iconClose:r},styles:o}){const{close:i,setToolbarWidth:s}=te(),{setContainerRef:l,containerRect:c}=_t();J(()=>{s(c==null?void 0:c.width)},[s,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(xe,{key:_e,label:"Close",icon:ir,renderIcon:r,onClick:i});return n.createElement("div",{ref:l,style:o.toolbar,className:I(Lr())},e==null?void 0:e.map(u=>u===_e?a():u))}const Rr=ee(bn,Tr);function Kn(e,t){var r;return n.createElement(e.module.component,{key:e.module.name,...t},(r=e.children)===null||r===void 0?void 0:r.map(o=>Kn(o,t)))}function Nr(e,t={}){const{easing:r,...o}=e,{easing:i,...s}=t;return{easing:{...r,...i},...o,...s}}function Or({carousel:e,animation:t,render:r,toolbar:o,controller:i,noScroll:s,on:l,plugins:c,slides:a,index:u,...d}){const{animation:v,carousel:b,render:p,toolbar:m,controller:g,noScroll:f,on:S,slides:h,index:M,plugins:L,...P}=dt,{config:k,augmentation:R}=Jo([U(Ir,[U(Sr,[U(pr,[U(Er),U(Rr),U(yr)])])])],c||L),$=R({animation:Nr(v,t),carousel:{...b,...e},render:{...p,...r},toolbar:{...m,...o},controller:{...g,...i},noScroll:{...f,...s},on:{...S,...l},...P,...d});return $.open?n.createElement(jn,{...$},n.createElement(or,{slides:a||h,index:Ye(u||M)},n.createElement(rr,null,n.createElement(er,null,Kn(U(Mr,k),$))))):null}const Fr={maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1},qn=e=>({...Fr,...e});function Dr(e,t,r,o){const i=n.useRef(),s=n.useRef(),{zoom:l}=W().animation,c=Ct(),a=O(()=>{var u,d,v;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,s.current&&(o!=null&&o.current)){try{i.current=(v=(d=o.current).animate)===null||v===void 0?void 0:v.call(d,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${r}px)`}],{duration:c?0:l??500,easing:i.current?"ease-out":"ease-in-out"})}catch(b){console.error(b)}s.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return J(a,[e,t,r,a]),n.useCallback(()=>{s.current=o!=null&&o.current?window.getComputedStyle(o.current).transform:void 0},[o])}function Ar(e,t){const{on:r}=W(),o=O(()=>{var i;t||(i=r.zoom)===null||i===void 0||i.call(r,{zoom:e})});n.useEffect(o,[e,o])}function Ke(){const{zoom:e}=W();return qn(e)}function jr(e,t){var r,o;let i={width:0,height:0},s={width:0,height:0};const{currentSlide:l}=ie(),{imageFit:c}=W().carousel,{maxZoomPixelRatio:a}=Ke();if(e&&l){const d={...l,...t};if(be(d)){const v=xt(d,c),b=Math.max(...(((r=d.srcSet)===null||r===void 0?void 0:r.map(m=>m.width))||[]).concat(d.width?[d.width]:[])),p=Math.max(...(((o=d.srcSet)===null||o===void 0?void 0:o.map(m=>m.height))||[]).concat(d.height?[d.height]:[]));b>0&&p>0&&e.width>0&&e.height>0&&(s=v?{width:Math.round(Math.min(b,e.width/e.height*p)),height:Math.round(Math.min(p,e.height/e.width*b))}:{width:b,height:p},s={width:s.width*a,height:s.height*a},i=v?{width:Math.min(e.width,s.width,b),height:Math.min(e.height,s.height,p)}:{width:Math.round(Math.min(e.width,e.height/p*b,b)),height:Math.round(Math.min(e.height,e.width/b*p,p))})}}const u=i.width?Math.max(Et(s.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function en(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function $r(e,t,r,o,i,s){const l=n.useRef([]),c=n.useRef(0),a=n.useRef(),{globalIndex:u}=ie(),{containerRef:d,subscribeSensors:v}=te(),{keyboardMoveDistance:b,zoomInMultiplier:p,wheelZoomDistanceFactor:m,scrollToZoom:g,doubleTapDelay:f,doubleClickDelay:S,doubleClickMaxStops:h,pinchZoomDistanceFactor:M}=Ke(),L=n.useCallback(x=>{if(d.current){const{pageX:z,pageY:w}=x,{scrollX:D,scrollY:A}=window,{left:Z,top:ne,width:N,height:X}=d.current.getBoundingClientRect();return[z-Z-D-N/2,w-ne-A-X/2]}return[]},[d]),P=O(x=>{const z=()=>{x.preventDefault(),x.stopPropagation()};if(e>1){const A=(Z,ne)=>{z(),i(Z,ne)};x.key==="ArrowDown"?A(0,b):x.key==="ArrowUp"?A(0,-b):x.key==="ArrowLeft"?A(-b,0):x.key==="ArrowRight"&&A(b,0)}const w=A=>{z(),o(A)},D=()=>x.getModifierState("Meta");x.key==="+"||x.key==="="&&D()?w(e*p):x.key==="-"||x.key==="_"&&D()?w(e/p):x.key==="0"&&D()&&w(1)}),k=O(x=>{if((x.ctrlKey||g)&&Math.abs(x.deltaY)>Math.abs(x.deltaX)){x.stopPropagation(),o(e*(1-x.deltaY/m),!0,...L(x));return}e>1&&(x.stopPropagation(),g||i(x.deltaX,x.deltaY))}),R=n.useCallback(x=>{const z=l.current;z.splice(0,z.length,...z.filter(w=>w.pointerId!==x.pointerId))},[]),$=n.useCallback(x=>{R(x),x.persist(),l.current.push(x)},[R]),E=O(x=>{var z;const w=l.current;if(!(!((z=s==null?void 0:s.current)===null||z===void 0)&&z.contains(x.target)))return;e>1&&x.stopPropagation();const{timeStamp:D}=x;w.length===0&&D-c.current<(x.pointerType==="touch"?f:S)?(c.current=0,o(e!==t?e*Math.max(t**(1/h),p):1,!1,...L(x))):c.current=D,$(x),w.length===2&&(a.current=en(w[0],w[1]))}),_=O(x=>{const z=l.current,w=z.find(D=>D.pointerId===x.pointerId);if(z.length===2&&a.current){x.stopPropagation(),$(x);const D=en(z[0],z[1]),A=D-a.current;Math.abs(A)>0&&(o(e*(1+A/M),!0,...z.map(Z=>L(Z)).reduce((Z,ne)=>ne.map((N,X)=>Z[X]+N/2))),a.current=D);return}e>1&&(x.stopPropagation(),w&&(z.length===1&&i((w.clientX-x.clientX)/e,(w.clientY-x.clientY)/e),$(x)))}),F=n.useCallback(x=>{const z=l.current;z.length===2&&z.find(w=>w.pointerId===x.pointerId)&&(a.current=void 0),R(x)},[R]),j=n.useCallback(()=>{const x=l.current;x.splice(0,x.length),c.current=0,a.current=void 0},[]);Bn(v,E,_,F,r),n.useEffect(j,[u,j]),n.useEffect(()=>r?()=>{}:Fe(j,v(gt,P),v(vt,k)),[r,v,j,P,k])}function zr(e,t,r){const[o,i]=n.useState(1),[s,l]=n.useState(0),[c,a]=n.useState(0),u=Dr(o,s,c,r),{currentSlide:d,globalIndex:v}=ie(),{containerRect:b,slideRect:p}=te(),{zoomInMultiplier:m}=Ke(),g=d&&be(d)?d.src:void 0,f=!g||!(r!=null&&r.current);J(()=>{i(1),l(0),a(0)},[v,g]);const S=n.useCallback((k,R,$)=>{const E=$||o,_=s-(k||0),F=c-(R||0),j=(e.width*E-p.width)/2/E,x=(e.height*E-p.height)/2/E;l(Math.min(Math.abs(_),Math.max(j,0))*Math.sign(_)),a(Math.min(Math.abs(F),Math.max(x,0))*Math.sign(F))},[o,s,c,p,e.width,e.height]),h=n.useCallback((k,R,$,E)=>{const _=Et(Math.min(Math.max(k+.001<t?k:t,1),t),5);_!==o&&(R||u(),S($?$*(1/o-1/_):0,E?E*(1/o-1/_):0,_),i(_))},[o,t,S,u]),M=O(()=>{o>1&&(o>t&&h(t,!0),S())});J(M,[b.width,b.height,M]);const L=n.useCallback(()=>h(o*m),[o,m,h]),P=n.useCallback(()=>h(o/m),[o,m,h]);return{zoom:o,offsetX:s,offsetY:c,disabled:f,changeOffsets:S,changeZoom:h,zoomIn:L,zoomOut:P}}const Qn=n.createContext(null),St=re("useZoom","ZoomControllerContext",Qn);function Vr({children:e}){const[t,r]=n.useState(),{slideRect:o}=te(),{imageRect:i,maxZoom:s}=jr(o,t==null?void 0:t.imageDimensions),{zoom:l,offsetX:c,offsetY:a,disabled:u,changeZoom:d,changeOffsets:v,zoomIn:b,zoomOut:p}=zr(i,s,t==null?void 0:t.zoomWrapperRef);Ar(l,u),$r(l,s,u,d,v,t==null?void 0:t.zoomWrapperRef);const m=n.useMemo(()=>({zoom:l,maxZoom:s,offsetX:c,offsetY:a,disabled:u,zoomIn:b,zoomOut:p,changeZoom:d}),[l,s,c,a,u,b,p,d]);n.useImperativeHandle(Ke().ref,()=>m,[m]);const g=n.useMemo(()=>({...m,setZoomWrapper:r}),[m,r]);return n.createElement(Qn.Provider,{value:g},e)}const Hr=q("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Wr=q("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),tn=n.forwardRef(function({zoomIn:t,onLoseFocus:r},o){const i=n.useRef(!1),s=n.useRef(!1),{zoom:l,maxZoom:c,zoomIn:a,zoomOut:u,disabled:d}=St(),{render:v}=W(),b=d||(t?l>=c:l<=1);return n.useEffect(()=>{b&&i.current&&s.current&&r(),b||(i.current=!0)},[b,r]),n.createElement(xe,{ref:o,disabled:b,label:t?"Zoom in":"Zoom out",icon:t?Hr:Wr,renderIcon:t?v.iconZoomIn:v.iconZoomOut,onClick:t?a:u,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Zr(){const e=n.useRef(null),t=n.useRef(null),{focus:r}=te(),o=n.useCallback(l=>{var c,a;!((c=l.current)===null||c===void 0)&&c.disabled?r():(a=l.current)===null||a===void 0||a.focus()},[r]),i=n.useCallback(()=>o(e),[o]),s=n.useCallback(()=>o(t),[o]);return n.createElement(n.Fragment,null,n.createElement(tn,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(tn,{ref:t,onLoseFocus:i}))}function Ur(){const{render:e}=W(),t=St();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Zr,null)}function Br(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Xr({current:e,preload:t},{type:r,source:o}){switch(r){case"fetch":return e?{current:e,preload:o}:{current:o};case"done":return o===t?{current:o}:{current:e,preload:t};default:throw new Error(Ln)}}function Yr(e){var t,r;const[{current:o,preload:i},s]=n.useReducer(Xr,{}),{slide:l,rect:c,imageFit:a,render:u}=e,d=l.srcSet.sort((L,P)=>L.width-P.width),v=(t=l.width)!==null&&t!==void 0?t:d[d.length-1].width,b=(r=l.height)!==null&&r!==void 0?r:d[d.length-1].height,p=xt(l,a),m=Math.max(...d.map(L=>L.width)),g=Math.min((p?Math.max:Math.min)(c.width,v*(c.height/b)),m),f=Qo(),S=O(()=>{var L;const P=(L=d.find(k=>k.width>=g*f))!==null&&L!==void 0?L:d[d.length-1];(!o||d.findIndex(k=>k.src===o)<d.findIndex(k=>k===P))&&s({type:"fetch",source:P.src})});J(S,[c.width,c.height,f,S]);const h=O(L=>s({type:"done",source:L})),M={WebkitTransform:"translateZ(0)"};return p||Object.assign(M,c.width/c.height<v/b?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,i&&i!==o&&n.createElement(Se,{key:"preload",...e,slide:{...l,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...M},onLoad:()=>h(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),o&&n.createElement(Se,{key:"current",...e,slide:{...l,src:o,srcSet:void 0},style:M}))}function Gr({render:e,slide:t,offset:r,rect:o}){var i;const[s,l]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:u,offsetX:d,offsetY:v,setZoomWrapper:b}=St(),{carousel:p,on:m}=W(),{currentIndex:g}=ie();J(()=>r===0?(b({zoomWrapperRef:c,imageDimensions:s}),()=>b(void 0)):()=>{},[r,s,b]);let f=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:r,rect:o,zoom:a,maxZoom:u});if(!f&&be(t)){const S={slide:t,offset:r,rect:o,render:e,imageFit:p.imageFit,imageProps:p.imageProps,onClick:r===0?()=>{var h;return(h=m.click)===null||h===void 0?void 0:h.call(m,{index:g})}:void 0};f=Br(t)?n.createElement(Yr,{...S,slide:t,rect:r===0?{width:o.width*a,height:o.height*a}:o}):n.createElement(Se,{onLoad:h=>l({width:h.naturalWidth,height:h.naturalHeight}),...S})}return f?n.createElement("div",{ref:c,className:Y(I(wn),I(pe),I(pt)),style:r===0?{transform:`scale(${a}) translateX(${d}px) translateY(${v}px)`}:void 0},f):null}const nn=({augment:e,addModule:t})=>{e(({zoom:r,toolbar:o,render:i,controller:s,...l})=>{const c=qn(r);return{zoom:c,toolbar:De(o,Ht,n.createElement(Ur,null)),render:{...i,slide:a=>{var u;return be(a.slide)?n.createElement(Gr,{render:i,...a}):(u=i.slide)===null||u===void 0?void 0:u.call(i,a)}},controller:{...s,preventDefaultWheelY:c.scrollToZoom},...l}}),t(ee(Ht,Vr))},Kr={controls:!0,playsInline:!0},Jn=e=>({...Kr,...e});function qr(){const{video:e}=W();return Jn(e)}function Qr({slide:e,offset:t}){const r=qr(),{publish:o}=Ee(),{setContainerRef:i,containerRect:s}=_t(),l=n.useRef(null);n.useEffect(()=>{t!==0&&l.current&&!l.current.paused&&l.current.pause()},[t]),n.useEffect(()=>{t===0&&l.current&&(e.autoPlay||r.autoPlay)&&(o(En),l.current.play().catch(()=>{}))},[t,r.autoPlay,e.autoPlay,o]);const c=O(f=>{t===0&&(r.autoPlay||e.autoPlay)&&f.paused&&f.play().catch(()=>{})}),a=n.useCallback(f=>{l.current=f,f&&c(f)},[c]),{width:u,height:d,poster:v,sources:b}=e,p=()=>{const f={};if(f.style={maxWidth:"100%",maxHeight:"100%"},u&&d&&s){const S=u/d>s.width/s.height,h=S?s.width:Math.round(s.height/d*u),M=S?Math.round(s.width/u*d):s.height;f.width=h,f.height=M,f.style.width=h,f.style.height=M}return f},m=f=>e[f]===!1?null:e[f]===!0?{[f]:!0}:r[f]===!1?null:r[f]===!0?{[f]:!0}:null,g=f=>r[f]||e[f]?{[f]:e[f]||r[f]}:null;return n.createElement(n.Fragment,null,b&&n.createElement("div",{ref:i,style:{width:"100%",height:"100%",...u?{maxWidth:`${u}px`}:null},className:Y(I("video_container"),I(pe),I(pt))},s&&n.createElement("video",{ref:a,poster:v,...p(),...m("controls"),...m("playsInline"),...m("loop"),...m("muted"),...m("playsInline"),...m("disablePictureInPicture"),...m("disableRemotePlayback"),...g("controlsList"),...g("crossOrigin"),...g("preload"),onPlay:()=>{o(xn)},onEnded:()=>{o(yn)}},b.map(({src:f,type:S})=>n.createElement("source",{key:[f,S].join("|"),src:f,type:S})))))}function Jr(e){return e.type==="video"}function on({augment:e}){e(({render:{slide:t,...r},video:o,...i})=>({render:{slide:({slide:s,offset:l,rect:c})=>{var a;return Jr(s)?n.createElement(Qr,{key:(a=s.sources)===null||a===void 0?void 0:a.map(u=>u.src).join("|"),slide:s,offset:l}):t==null?void 0:t({slide:s,offset:l,rect:c})},...r},video:Jn(o),...i}))}const Ce=e=>I(`slide_${e}`),ht={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1},Pt=e=>({...ht,...e});function ei(){const{captions:e}=W();return Pt(e)}const eo=n.createContext(null),It=re("useCaptions","CaptionsContext",eo);function ti({captions:e,children:t}){const{ref:r}=Pt(e),[o,i]=n.useState(!0),s=n.useMemo(()=>({visible:o,show:()=>i(!0),hide:()=>i(!1)}),[o]);return n.useImperativeHandle(r,()=>s,[s]),n.createElement(eo.Provider,{value:s},t)}function ni({title:e}){const{toolbarWidth:t}=te(),{styles:r}=W(),{visible:o}=It();return o?n.createElement("div",{style:r.captionsTitleContainer,className:Y(Ce("captions_container"),Ce("title_container"))},n.createElement("div",{className:Ce("title"),style:{...t?{[V("toolbar_width")]:`${t}px`}:null,...r.captionsTitle}},e)):null}function oi({description:e}){const{descriptionTextAlign:t,descriptionMaxLines:r}=ei(),{styles:o}=W(),{visible:i}=It();return i?n.createElement("div",{style:o.captionsDescriptionContainer,className:Y(Ce("captions_container"),Ce("description_container"))},n.createElement("div",{className:Ce("description"),style:{...t!==ht.descriptionTextAlign||r!==ht.descriptionMaxLines?{[V("slide_description_text_align")]:t,[V("slide_description_max_lines")]:r}:null,...o.captionsDescription}},typeof e=="string"?e.split(`
`).flatMap((s,l)=>[...l>0?[n.createElement("br",{key:l})]:[],s]):e)):null}const to=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),ri=q("CaptionsVisible",to()),ii=Wn("CaptionsVisible",to());function si(){const{visible:e,show:t,hide:r}=It(),{render:o}=W();return o.buttonCaptions?n.createElement(n.Fragment,null,o.buttonCaptions({visible:e,show:t,hide:r})):n.createElement(xe,{label:e?"Hide captions":"Show captions",icon:e?ri:ii,renderIcon:e?o.iconCaptionsVisible:o.iconCaptionsHidden,onClick:e?r:t})}function rn({augment:e,addModule:t}){e(({captions:r,render:{slideFooter:o,...i},toolbar:s,...l})=>{const c=Pt(r);return{render:{slideFooter:({slide:a})=>n.createElement(n.Fragment,null,o==null?void 0:o({slide:a}),a.title&&n.createElement(ni,{title:a.title}),a.description&&n.createElement(oi,{description:a.description})),...i},toolbar:De(s,zt,c.showToggle?n.createElement(si,null):null),captions:c,...l}}),t(ee(zt,ti))}const li={autoplay:!1,delay:3e3,ref:null},no=e=>({...li,...e}),oo=n.createContext(null),ci=re("useSlideshow","SlideshowContext",oo);function ai({slideshow:e,carousel:{finite:t},on:r,children:o}){const{autoplay:i,delay:s,ref:l}=no(e),c=n.useRef(i),[a,u]=n.useState(i),d=n.useRef(),v=n.useRef(),{slides:b,currentIndex:p}=ie(),{setTimeout:m,clearTimeout:g}=Ae(),{subscribe:f}=Ee(),{next:S}=te(),h=b.length===0||t&&p===b.length-1,M=n.useCallback(()=>{!a&&!h&&u(!0)},[a,h]),L=n.useCallback(()=>{a&&u(!1)},[a]),P=n.useCallback(()=>{g(d.current),d.current=void 0},[g]),k=O(()=>{P(),!(!a||h||v.current===we||v.current===ct)&&(d.current=m(()=>{a&&(v.current=void 0,S())},s))});n.useEffect(k,[p,a,k]),n.useEffect(()=>{a&&h&&u(!1)},[p,a,h]);const R=O(()=>{var _;return(_=r.slideshowStart)===null||_===void 0?void 0:_.call(r)}),$=O(()=>{var _;return(_=r.slideshowStop)===null||_===void 0?void 0:_.call(r)});n.useEffect(()=>{a?R():c.current&&$(),c.current=a},[a,R,$]),n.useEffect(()=>Fe(P,f(En,()=>{v.current=we,P()}),f(xn,()=>{v.current=ct,P()}),f(Wo,()=>{v.current=Le,k()}),f(yn,()=>{v.current=Te,k()})),[f,P,k]);const E=n.useMemo(()=>({playing:a,disabled:h,play:M,pause:L}),[a,h,M,L]);return n.useImperativeHandle(l,()=>E,[E]),n.createElement(oo.Provider,{value:E},o)}const ui=q("Play",n.createElement("path",{d:"M8 5v14l11-7z"})),di=q("Pause",n.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function fi(){const{playing:e,disabled:t,play:r,pause:o}=ci(),{render:i}=W(),s=Zn(te().focus,t);return i.buttonSlideshow?n.createElement(n.Fragment,null,i.buttonSlideshow({playing:e,disabled:t,play:r,pause:o})):n.createElement(xe,{label:e?"Pause":"Play",icon:e?di:ui,renderIcon:e?i.iconSlideshowPause:i.iconSlideshowPlay,onClick:e?o:r,disabled:t,...s})}function sn({augment:e,addModule:t}){e(({slideshow:r,toolbar:o,...i})=>({toolbar:De(o,Vt,n.createElement(fi,null)),slideshow:no(r),...i})),t(ee(Vt,ai))}const hi={auto:!1,ref:null},ro=e=>({...hi,...e}),io=n.createContext(null),mi=re("useFullscreen","FullscreenContext",io);function pi({fullscreen:e,on:t,children:r}){const{auto:o,ref:i}=ro(e),s=n.useRef(null),[l,c]=n.useState(),[a,u]=n.useState(!1),d=n.useRef(!1);J(()=>{var h,M,L,P;c(!((P=(L=(M=(h=document.fullscreenEnabled)!==null&&h!==void 0?h:document.webkitFullscreenEnabled)!==null&&M!==void 0?M:document.mozFullScreenEnabled)!==null&&L!==void 0?L:document.msFullscreenEnabled)!==null&&P!==void 0&&P))},[]);const v=n.useCallback(()=>{var h,M,L;return(L=(M=(h=document.fullscreenElement)!==null&&h!==void 0?h:document.webkitFullscreenElement)!==null&&M!==void 0?M:document.mozFullScreenElement)!==null&&L!==void 0?L:document.msFullscreenElement},[]),b=n.useCallback(()=>{const h=s.current;if(h)try{h.requestFullscreen?h.requestFullscreen().catch(()=>{}):h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.msRequestFullscreen&&h.msRequestFullscreen()}catch{}},[]),p=n.useCallback(()=>{if(v())try{document.exitFullscreen?document.exitFullscreen().catch(()=>{}):document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}catch{}},[v]);n.useEffect(()=>{const h=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],M=()=>{u(v()===s.current)};return h.forEach(L=>{document.addEventListener(L,M)}),()=>{h.forEach(L=>{document.removeEventListener(L,M)})}},[v]);const m=O(()=>{var h;return(h=t.enterFullscreen)===null||h===void 0?void 0:h.call(t)}),g=O(()=>{var h;return(h=t.exitFullscreen)===null||h===void 0?void 0:h.call(t)});n.useEffect(()=>{a&&(d.current=!0),d.current&&(a?m:g)()},[a,m,g]);const f=O(()=>{var h;return(h=o?b:null)===null||h===void 0?void 0:h()});n.useEffect(()=>(f(),()=>p()),[f,p]);const S=n.useMemo(()=>({fullscreen:a,disabled:l,enter:b,exit:p}),[a,l,b,p]);return n.useImperativeHandle(i,()=>S,[S]),n.createElement("div",{ref:s,className:Y(I(Re),I(wn))},n.createElement(io.Provider,{value:S},r))}const gi=q("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),vi=q("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function bi(){var e;const{fullscreen:t,disabled:r,enter:o,exit:i}=mi(),{render:s}=W();return r?null:s.buttonFullscreen?n.createElement(n.Fragment,null,(e=s.buttonFullscreen)===null||e===void 0?void 0:e.call(s,{fullscreen:t,disabled:r,enter:o,exit:i})):n.createElement(xe,{disabled:r,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?vi:gi,renderIcon:t?s.iconExitFullscreen:s.iconEnterFullscreen,onClick:t?i:o})}function ln({augment:e,contains:t,addParent:r}){e(({fullscreen:o,toolbar:i,...s})=>({toolbar:De(i,Re,n.createElement(bi,null)),fullscreen:ro(o),...s})),r(t(Ne)?Ne:Xe,ee(Re,pi))}const he={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0},kt=e=>({...he,...e});function so(){const{thumbnails:e}=W();return kt(e)}const me=e=>ge(Ne,e),B=e=>me(ge("thumbnail",e)),Ei=q("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),xi=q("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function yi({slide:e,render:t,rect:r,imageFit:o}){var i;const s=(i=t.thumbnail)===null||i===void 0?void 0:i.call(t,{slide:e,render:t,rect:r,imageFit:o});if(s)return s;const l=I(B(Ue));return be(e)?n.createElement(Se,{slide:e,render:t,rect:r,imageFit:o}):e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(Se,{key:e.poster,slide:{src:e.poster},render:t,rect:r,imageFit:o}),n.createElement(Ei,{className:l})):n.createElement(xi,{className:l})}const wi=ve("active"),st=ve("fadein"),lt=ve("fadeout"),Ci=ve("placeholder"),cn="delay",an="duration";function _i({slide:e,onClick:t,active:r,fadeIn:o,fadeOut:i,placeholder:s,onLoseFocus:l}){const c=n.useRef(null),{render:a,styles:u}=W(),{width:d,height:v,imageFit:b}=so(),p={width:d,height:v},m=O(l);return n.useEffect(()=>{i&&document.activeElement===c.current&&m()},[i,m]),n.createElement("button",{ref:c,type:"button",className:Y(I(pe),I(B()),r&&I(B(wi())),o&&I(B(st())),i&&I(B(lt())),s&&I(B(Ci()))),style:{...o?{[V(B(st(an)))]:`${o.duration}ms`,[V(B(st(cn)))]:`${o.delay}ms`}:null,...i?{[V(B(lt(an)))]:`${i.duration}ms`,[V(B(lt(cn)))]:`${i.delay}ms`}:null,...u.thumbnail},onClick:t},e&&yi({slide:e,render:a,rect:p,imageFit:b}))}function un(e){return["top","bottom"].includes(e)}function dn(e,t){return t+2*(e.border+e.padding)+e.gap}function fn({visible:e,containerRef:t}){const r=n.useRef(null),o=Ge(),{publish:i,subscribe:s}=Ee(),{carousel:l,styles:c}=W(),{slides:a,globalIndex:u,animation:d}=ie(),{registerSensors:v,subscribeSensors:b}=Un();Gn(b);const p=so(),{position:m,width:g,height:f,border:S,borderStyle:h,borderColor:M,borderRadius:L,padding:P,gap:k,vignette:R}=p,$=(d==null?void 0:d.duration)||0,E=$>0&&(d==null?void 0:d.increment)||0,{prepareAnimation:_}=ft(r,w=>({keyframes:un(m)?[{transform:`translateX(${(o?-1:1)*dn(p,g)*E+w}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${dn(p,f)*E+w}px)`},{transform:"translateY(0)"}],duration:$,easing:d==null?void 0:d.easing})),F=O(()=>{let w=0;if(t.current&&r.current){const D=t.current.getBoundingClientRect(),A=r.current.getBoundingClientRect();w=un(m)?A.left-D.left-(D.width-A.width)/2:A.top-D.top-(D.height-A.height)/2}_(w)});n.useEffect(()=>Fe(s(at,F)),[s,F]);const j=On(l,a),x=[];if(yt(a))for(let w=u-j-Math.abs(E);w<=u+j+Math.abs(E);w+=1){const A=l.finite&&(w<0||w>a.length-1)||E<0&&w<u-j||E>0&&w>u+j?null:wt(a,w),Z=[`${w}`,A?Nn(A):"placeholder"].filter(Boolean).join("|");x.push({key:Z,index:w,slide:A})}const z=w=>()=>{w>u?i(de,{count:w-u}):w<u&&i(ue,{count:u-w})};return n.createElement("div",{className:Y(I(me("container")),I(pe)),style:{...e?null:{display:"none"},...g!==he.width?{[V(B("width"))]:`${g}px`}:null,...f!==he.height?{[V(B("height"))]:`${f}px`}:null,...S!==he.border?{[V(B("border"))]:`${S}px`}:null,...h?{[V(B("border_style"))]:h}:null,...M?{[V(B("border_color"))]:M}:null,...L!==he.borderRadius?{[V(B("border_radius"))]:`${L}px`}:null,...P!==he.padding?{[V(B("padding"))]:`${P}px`}:null,...k!==he.gap?{[V(B("gap"))]:`${k}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:r,style:c.thumbnailsTrack,className:Y(I(me("track")),I(pe)),tabIndex:-1,...v},x.map(({key:w,index:D,slide:A})=>{const Z=$/Math.abs(E||1),ne=E>0&&D>u+j-E&&D<=u+j||E<0&&D<u-j-E&&D>=u-j?{duration:Z,delay:((E>0?D-(u+j-E):u-j-E-D)-1)*Z}:void 0,N=E>0&&D<u-j||E<0&&D>u+j?{duration:Z,delay:(E>0?E-(u-j-D):-E-(D-(u+j)))*Z}:void 0;return n.createElement(_i,{key:w,slide:A,active:D===u,fadeIn:ne,fadeOut:N,placeholder:!A,onClick:z(D),onLoseFocus:()=>{var X;return(X=r.current)===null||X===void 0?void 0:X.focus()}})})),R&&n.createElement("div",{className:I(me("vignette"))}))}const lo=n.createContext(null),Si=re("useThumbnails","ThumbnailsContext",lo);function Pi({children:e,...t}){const[r,o]=n.useState(!0),i=n.useRef(null),{ref:s,position:l}=kt(t.thumbnails),c=n.useMemo(()=>({visible:r,show:()=>o(!0),hide:()=>o(!1)}),[r]);return n.useImperativeHandle(s,()=>c,[c]),n.createElement(jn,{...t},n.createElement(lo.Provider,{value:c},n.createElement("div",{ref:i,className:Y(I(me()),I(me(`${l}`)))},["start","top"].includes(l)&&n.createElement(fn,{containerRef:i,visible:r}),n.createElement("div",{className:I(me("wrapper"))},e),["end","bottom"].includes(l)&&n.createElement(fn,{containerRef:i,visible:r}))))}const co=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),Ii=q("ThumbnailsVisible",co()),ki=Wn("ThumbnailsHidden",co());function Mi(){const{visible:e,show:t,hide:r}=Si(),{render:o}=W();return o.buttonThumbnails?n.createElement(n.Fragment,null,o.buttonThumbnails({visible:e,show:t,hide:r})):n.createElement(xe,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?Ii:ki,renderIcon:e?o.iconThumbnailsVisible:o.iconThumbnailsHidden,onClick:e?r:t})}function hn({augment:e,contains:t,append:r,addParent:o}){e(({thumbnails:s,toolbar:l,...c})=>{const a=kt(s);return{toolbar:De(l,Ne,a.showToggle?n.createElement(Mi,null):null),thumbnails:a,...c}});const i=ee(Ne,Pi);t(Re)?r(Re,i):o(Xe,i)}function Li(){const e=mn();return C.jsx(yo,{styles:{".yarl__root":{"--yarl__thumbnails_thumbnail_padding":0,"--yarl__thumbnails_thumbnail_border":"transparent","--yarl__color_backdrop":At(e.palette.grey[900],.9),"--yarl__slide_captions_container_background":At(e.palette.grey[900],.48)},".yarl__slide_title":{fontSize:e.typography.h5.fontSize,fontWeight:e.typography.h5.fontWeight,lineHeight:e.typography.h5.lineHeight},".yarl__slide_description":{fontSize:e.typography.body2.fontSize,fontWeight:e.typography.body2.fontWeight,lineHeight:e.typography.body2.lineHeight},".yarl__button":{filter:"unset"},".yarl__thumbnails_thumbnail":{opacity:.48,"&.yarl__thumbnails_thumbnail_active":{opacity:1}},".yarl__thumbnails_vignette":{"--yarl__thumbnails_vignette_size":0},".yarl__video_container":{backgroundColor:e.palette.common.black}}})}function ao({slides:e,disabledZoom:t,disabledVideo:r,disabledTotal:o,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:c,onGetCurrentIndex:a,...u}){const d=e?e.length:0;return C.jsxs(C.Fragment,{children:[C.jsx(Li,{}),C.jsx(Or,{slides:e,animation:{swipe:240},carousel:{finite:d<5},controller:{closeOnBackdropClick:!0},plugins:Ti({disabledZoom:t,disabledVideo:r,disabledCaptions:i,disabledSlideshow:s,disabledThumbnails:l,disabledFullscreen:c}),on:{view:({index:v})=>{a&&a(v)}},toolbar:{buttons:[C.jsx(uo,{totalItems:d,disabledTotal:o},0),"close"]},render:{iconClose:()=>C.jsx(ce,{width:24,icon:"carbon:close"}),iconZoomIn:()=>C.jsx(ce,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>C.jsx(ce,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>C.jsx(ce,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>C.jsx(ce,{width:24,icon:"carbon:pause"}),iconPrev:()=>C.jsx(ce,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>C.jsx(ce,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>C.jsx(ce,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>C.jsx(ce,{width:24,icon:"carbon:fit-to-screen"})},...u})]})}ao.propTypes={disabledCaptions:T.bool,disabledFullscreen:T.bool,disabledSlideshow:T.bool,disabledThumbnails:T.bool,disabledTotal:T.bool,disabledVideo:T.bool,disabledZoom:T.bool,onGetCurrentIndex:T.func,slides:T.array};function Ti({disabledZoom:e,disabledVideo:t,disabledCaptions:r,disabledSlideshow:o,disabledThumbnails:i,disabledFullscreen:s}){let l=[rn,ln,sn,hn,on,nn];return i&&(l=l.filter(c=>c!==hn)),r&&(l=l.filter(c=>c!==rn)),s&&(l=l.filter(c=>c!==ln)),o&&(l=l.filter(c=>c!==sn)),e&&(l=l.filter(c=>c!==nn)),t&&(l=l.filter(c=>c!==on)),l}function uo({totalItems:e,disabledTotal:t}){const{currentIndex:r}=ie();return t?null:C.jsxs(Ze,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[C.jsxs("strong",{children:[" ",r+1," "]})," / ",e]})}uo.propTypes={disabledTotal:T.bool,totalItems:T.number};function Ri(e){const[t,r]=n.useState(-1),o=n.useCallback(s=>{const l=e.findIndex(c=>c.type==="video"?c.poster===s:c.src===s);r(l)},[e]),i=n.useCallback(()=>{r(-1)},[]);return{selected:t,open:t>=0,onOpen:o,onClose:i,setSelected:r}}function fo({images:e}){const t=mn(),r=e.map(s=>({src:s})),o=Ri(r),i=Lo({slidesToShow:3,slidesToScroll:1,centerMode:!0,responsive:[{breakpoint:t.breakpoints.values.md,settings:{slidesToShow:2}},{breakpoint:t.breakpoints.values.sm,settings:{slidesToShow:1}}]});return n.useEffect(()=>{o.open&&i.onTogo(o.selected)},[i,o.open,o.selected]),C.jsxs(C.Fragment,{children:[C.jsxs(He,{direction:"row",justifyContent:"space-between",sx:{mt:3,mb:5},children:[C.jsx(ae,{variant:"h4",children:"Gallery"}),C.jsx(To,{spacing:2,onNext:i.onNext,onPrev:i.onPrev})]}),C.jsx(Ro,{ref:i.carouselRef,...i.carouselSettings,children:r.map(s=>C.jsx(Ze,{component:jt.div,whileHover:"hover",sx:{px:1},onClick:()=>o.onOpen(s.src),children:C.jsx(Ze,{sx:{borderRadius:2,overflow:"hidden",cursor:"pointer"},children:C.jsx(jt.div,{variants:No(1.25),transition:wo(),children:C.jsx(pn,{alt:s.src,src:s.src,ratio:"4/3"})})})},s.src))}),C.jsx(ao,{index:o.selected,slides:r,open:o.open,close:o.onClose,onGetCurrentIndex:s=>o.setSelected(s)})]})}fo.propTypes={images:T.array};function Ni(e,t){const r=t||"MMMM do, yyyy";return e?Co(new Date(e),r):""}function ho({event:e}){const{title:t,description:r,category:o,website:i,eventDate:s}=e;return C.jsxs(He,{spacing:3,sx:{p:5,borderRadius:2,bgcolor:"background.neutral"},children:[C.jsxs(He,{spacing:2,children:[C.jsx(ae,{variant:"overline",sx:{color:"text.disabled"},children:"summary"}),C.jsx(ae,{variant:"h6",children:t}),C.jsx(ae,{variant:"body2",children:r})]}),C.jsx($t,{sx:{borderStyle:"dashed"}}),C.jsxs(He,{spacing:1,children:[C.jsx(ae,{variant:"overline",sx:{color:"text.disabled"},children:"Register"}),C.jsx(_o,{variant:"body2",color:"inherit",href:i,target:"_blank",children:"Link"}),C.jsx(ae,{variant:"overline",sx:{color:"text.disabled",pt:1},children:"Category"}),C.jsx(ae,{variant:"body2",sx:{pb:1},children:o}),C.jsx(ae,{variant:"overline",sx:{color:"text.disabled"},children:"Date"}),C.jsx(ae,{variant:"body2",children:Ni(s)})]}),C.jsx($t,{sx:{borderStyle:"dashed"}})]})}ho.propTypes={caseStudy:T.shape({title:T.string,website:T.string,category:T.string,description:T.string,createdAt:T.instanceOf(Date)})};function Oi(){const[e]=So(),t=e.get("eventId"),{isLoading:r,data:o,error:i}=Oo({queryKey:["booking",t],queryFn:()=>Fo(t)});return{isLoading:r,error:i,event:o}}function Fi(){const{isLoading:e,event:t,error:r}=Oi();if(e)return C.jsx(Po,{});if(r)return C.jsx(Io,{});const o=t.galleryImgs.split(",");return C.jsx(C.Fragment,{children:C.jsxs(ko,{sx:{overflow:"hidden",pt:5,pb:{xs:10,md:15}},children:[C.jsx(pn,{alt:"hero",src:t.heroUrl,ratio:"16/9",sx:{borderRadius:2,mb:4}}),C.jsxs(nt,{container:!0,spacing:{xs:5,md:8},direction:{md:"row-reverse"},children:[C.jsx(nt,{xs:12,md:4,children:C.jsx(ho,{event:t})}),C.jsxs(nt,{xs:12,md:8,children:[C.jsx(gn,{content:t.content}),C.jsx(fo,{images:o})]})]})]})})}function $i(){return C.jsxs(C.Fragment,{children:[C.jsx(Mo,{children:C.jsx("title",{children:"Principle Evolution: Let's Grow!"})}),C.jsx(Fi,{})]})}export{$i as default};
