{
  "version": 3,
  "sources": ["../../yet-another-react-lightbox/dist/plugins/captions/index.js"],
  "sourcesContent": ["import { cssClass, useLightboxProps, makeUseContext, useController, clsx, cssVar, createIcon, createIconDisabled, IconButton, addToolbarButton, createModule } from '../../index.js';\nimport * as React from 'react';\nimport { PLUGIN_CAPTIONS } from '../../types.js';\n\nconst cssPrefix = (className) => cssClass(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = useLightboxProps();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = React.createContext(null);\nconst useCaptions = makeUseContext(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = React.useState(true);\n    const context = React.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    React.useImperativeHandle(ref, () => context, [context]);\n    return React.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = useController();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsTitleContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [cssVar(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = useLightboxProps();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (React.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: clsx(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        React.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [cssVar(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [cssVar(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [React.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (React.createElement(React.Fragment, null,\n    React.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    React.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = createIcon(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = createIconDisabled(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = useLightboxProps();\n    if (render.buttonCaptions) {\n        return React.createElement(React.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (React.createElement(IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (React.createElement(React.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && React.createElement(Title, { title: slide.title }),\n                    slide.description && React.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: addToolbarButton(toolbar, PLUGIN_CAPTIONS, captions.showToggle ? React.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule(createModule(PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\nexport { Captions as default };\n"],
  "mappings": "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",
  "names": []
}
