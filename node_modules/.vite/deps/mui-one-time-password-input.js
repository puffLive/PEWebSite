import {
  TextField_default
} from "./chunk-WC25L7WV.js";
import "./chunk-XHUITNJW.js";
import "./chunk-KPOE6UMM.js";
import "./chunk-7K3ZS2VV.js";
import "./chunk-GWQGOVAO.js";
import "./chunk-YDCLDYJR.js";
import "./chunk-3RZ3QVMQ.js";
import "./chunk-FVMBZHWR.js";
import "./chunk-PJBWENAL.js";
import "./chunk-I6MTRICN.js";
import "./chunk-W63O7LFT.js";
import "./chunk-C4GCIZYX.js";
import "./chunk-GGV2JJMU.js";
import "./chunk-K4HOI7SM.js";
import "./chunk-VBKMKT7T.js";
import "./chunk-4N2WMLAL.js";
import {
  Box_default
} from "./chunk-Z3LBRID3.js";
import "./chunk-2TTSVUK2.js";
import "./chunk-32XDHKRJ.js";
import "./chunk-2BFZTURW.js";
import "./chunk-UZYIUZMN.js";
import "./chunk-YQQ7WO62.js";
import "./chunk-AKKANAVW.js";
import "./chunk-PR6ZCO7G.js";
import "./chunk-5ME4KF5W.js";
import "./chunk-4V4EMWD4.js";
import "./chunk-VBCALIBD.js";
import "./chunk-F5JSNC52.js";
import "./chunk-I2G43PM4.js";
import "./chunk-XB57TZ4K.js";
import "./chunk-LP3UG3SE.js";
import "./chunk-XLBLSMET.js";
import "./chunk-HTHU2KMY.js";
import "./chunk-R3IDHGGL.js";
import "./chunk-TJ4WWSAQ.js";
import "./chunk-BOHFQLO3.js";
import "./chunk-T7QH7VYI.js";
import "./chunk-LBR7B772.js";
import "./chunk-SU4ONDC7.js";
import "./chunk-2AHHJ6AK.js";
import "./chunk-RGM6DQFJ.js";
import "./chunk-FMFFUJ5P.js";
import "./chunk-TG4I6FAO.js";
import "./chunk-Q45IPBCZ.js";
import "./chunk-KPCKTKIM.js";
import "./chunk-B5BXGPM5.js";
import "./chunk-P3FVMTXM.js";
import "./chunk-D4TLEHA4.js";
import "./chunk-LHMD4SLY.js";
import "./chunk-3CWLRSDL.js";
import "./chunk-PAQGR76M.js";
import "./chunk-O5VKRLL5.js";
import "./chunk-C7LSSLMF.js";
import "./chunk-INFVLSQA.js";
import "./chunk-57SPQDMA.js";
import "./chunk-4MXK6SE3.js";
import "./chunk-EDLQIFIC.js";
import "./chunk-BA75GV6E.js";
import "./chunk-O7AQSL5P.js";
import "./chunk-6C6O6IBM.js";
import {
  styled_default
} from "./chunk-54GDF6VW.js";
import "./chunk-B2J4IXAL.js";
import "./chunk-PAVOJHOB.js";
import "./chunk-PH5RCYWV.js";
import "./chunk-FTKSOGKK.js";
import "./chunk-YSQVWKDD.js";
import {
  require_jsx_runtime
} from "./chunk-L2LNWOWY.js";
import "./chunk-ZK7QAB5S.js";
import "./chunk-4EUK2NGJ.js";
import "./chunk-2RRLN7VW.js";
import "./chunk-2YF3D67C.js";
import "./chunk-VP3SH7ZP.js";
import {
  require_react
} from "./chunk-JLHXIPXH.js";
import {
  __toESM
} from "./chunk-TIUEEL27.js";

// node_modules/mui-one-time-password-input/dist/mui-one-time-password-input.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react = __toESM(require_react());
var G = styled_default(TextField_default)`
  input {
    text-align: center;
  }
`;
var J = {
  TextFieldStyled: G
};
var Q = (n) => (0, import_jsx_runtime.jsx)(J.TextFieldStyled, { ...n });
var B = {
  left: "ArrowLeft",
  right: "ArrowRight",
  backspace: "Backspace",
  home: "Home",
  end: "End"
};
function U(n, l) {
  return n <= 0 ? [] : Array.from({ length: n }, l);
}
function X(n, l, f) {
  return n.map((u, x) => l === x ? f : u);
}
function P(n) {
  return n.join("");
}
function M(n, l) {
  return [...n, l];
}
function Z(n, l, f) {
  return n.reduce(
    (u, x, C) => {
      const { characters: y, restArrayMerged: d } = u;
      if (C < f)
        return {
          restArrayMerged: d,
          characters: M(y, x)
        };
      const [D, ...V] = d;
      return {
        restArrayMerged: V,
        characters: M(y, D || "")
      };
    },
    {
      restArrayMerged: l,
      characters: []
    }
  ).characters;
}
function v(n) {
  return n.split("");
}
function N(n) {
  const l = import_react.default.useRef(() => {
    throw new Error("Cannot call an event handler while rendering.");
  });
  return import_react.default.useInsertionEffect(() => {
    l.current = n;
  }), import_react.default.useCallback((...f) => {
    var _a;
    return (_a = l.current) == null ? void 0 : _a.call(l, ...f);
  }, []);
}
var ee = () => true;
var oe = import_react.default.forwardRef(
  (n, l) => {
    const {
      value: f = "",
      length: u = 4,
      autoFocus: x = false,
      onChange: C,
      TextFieldsProps: y,
      onComplete: d,
      validateChar: D = ee,
      className: V,
      onBlur: b,
      ...K
    } = n, j = import_react.default.useRef(f), k = N(d), I = N((e) => {
      const t = e.slice(0, u);
      return {
        isCompleted: t.length === u,
        finalValue: t
      };
    });
    import_react.default.useEffect(() => {
      const { isCompleted: e, finalValue: t } = I(
        j.current
      );
      e && k(t);
    }, [u, k, I]);
    const p = U(
      u,
      (e, t) => ({
        character: f[t] || "",
        inputRef: import_react.default.createRef()
      })
    ), A = (e) => p.findIndex(({ inputRef: t }) => t.current === e), T = () => p.map(({ character: e }) => e), O = (e, t) => {
      const a = X(
        T(),
        e,
        t
      );
      return P(a);
    }, $ = (e) => {
      var _a, _b;
      (_b = (_a = p[e]) == null ? void 0 : _a.inputRef.current) == null ? void 0 : _b.focus();
    }, c = (e) => {
      var _a, _b;
      (_b = (_a = p[e]) == null ? void 0 : _a.inputRef.current) == null ? void 0 : _b.select();
    }, R = (e) => {
      e + 1 !== u && (p[e + 1].character ? c(e + 1) : $(e + 1));
    }, S = (e, t) => typeof D != "function" ? true : D(e, t), Y = (e) => {
      const t = A(e.target);
      if (t === 0 && e.target.value.length > 1) {
        const { finalValue: m, isCompleted: F } = I(
          e.target.value
        );
        C == null ? void 0 : C(m), F && (d == null ? void 0 : d(m)), c(m.length - 1);
        return;
      }
      const a = e.target.value[0] || "";
      let o = a;
      o && !S(o, t) && (o = "");
      const s = O(t, o);
      C == null ? void 0 : C(s);
      const { isCompleted: h, finalValue: i } = I(s);
      h && (d == null ? void 0 : d(i)), o !== "" ? s.length - 1 < t ? c(s.length) : R(t) : a === "" && s.length <= t && c(t - 1);
    }, _ = (e) => {
      const t = e.target, a = t.selectionStart, o = t.selectionEnd, s = A(t), h = a === 0 && o === 0;
      if (t.value === e.key)
        e.preventDefault(), R(s);
      else if (B.backspace === e.key) {
        if (!t.value)
          e.preventDefault(), c(s - 1);
        else if (h) {
          e.preventDefault();
          const i = O(s, "");
          C == null ? void 0 : C(i), i.length <= s && c(s - 1);
        }
      } else
        B.left === e.key ? (e.preventDefault(), c(s - 1)) : B.right === e.key ? (e.preventDefault(), c(s + 1)) : B.home === e.key ? (e.preventDefault(), c(0)) : B.end === e.key && (e.preventDefault(), c(p.length - 1));
    }, H = (e) => {
      const t = e.clipboardData.getData("text/plain"), a = e.target, o = p.findIndex(
        ({ character: r, inputRef: w }) => r === "" || w.current === a
      ), s = T(), h = Z(
        s,
        v(t),
        o
      ).map((r, w) => S(r, w) ? r : ""), i = P(h);
      C == null ? void 0 : C(i);
      const { isCompleted: m, finalValue: F } = I(i);
      m ? (d == null ? void 0 : d(F), c(u - 1)) : c(i.length);
    }, L = (e) => {
      if (!p.some(({ inputRef: a }) => a.current === e.relatedTarget)) {
        const { isCompleted: a, finalValue: o } = I(f);
        b == null ? void 0 : b(o, a);
      }
    };
    return (0, import_jsx_runtime.jsx)(
      Box_default,
      {
        display: "flex",
        gap: "20px",
        alignItems: "center",
        ref: l,
        className: `MuiOtpInput-Box ${V || ""}`,
        ...K,
        children: p.map(({ character: e, inputRef: t }, a) => {
          const {
            onPaste: o,
            onFocus: s,
            onKeyDown: h,
            className: i,
            onBlur: m,
            ...F
          } = typeof y == "function" ? y(a) || {} : y || {};
          return (0, import_jsx_runtime.jsx)(
            Q,
            {
              autoFocus: x ? a === 0 : false,
              autoComplete: "one-time-code",
              value: e,
              inputRef: t,
              className: `MuiOtpInput-TextField MuiOtpInput-TextField-${a + 1} ${i || ""}`,
              onPaste: (r) => {
                r.preventDefault(), H(r), o == null ? void 0 : o(r);
              },
              onFocus: (r) => {
                r.preventDefault(), r.target.select(), s == null ? void 0 : s(r);
              },
              onChange: Y,
              onKeyDown: (r) => {
                _(r), h == null ? void 0 : h(r);
              },
              onBlur: (r) => {
                m == null ? void 0 : m(r), L(r);
              },
              ...F
            },
            a
          );
        })
      }
    );
  }
);
export {
  oe as MuiOtpInput
};
//# sourceMappingURL=mui-one-time-password-input.js.map
